message("Adding internal plugin: SocketPlugin")
set(pluginName "SocketPlugin")
set(pluginSrc "${srcPluginsDir}/SocketPlugin")
set(pluginCross "${crossDir}/plugins/SocketPlugin")
set(pluginPlatform "${targetPlatform}/plugins/SocketPlugin")
set(LINKLIBS )
add_definitions(-DSQUEAK_BUILTIN_PLUGIN)
list(APPEND sources  "${pluginSrc}/SocketPlugin.c")
include_directories(${pluginSrc} ${pluginCross} ${targetPlatform}/plugins/${pluginName})
list(APPEND sources  "${pluginPlatform}/sqUnixSocket")
add_library(SocketPlugin STATIC ${sources})
set(linkFlags "${linkFlags} -m32")
set_property(TARGET SocketPlugin PROPERTY LINK_FLAGS "${linkFlags}")
IF (SocketPlugin_dependencies)
add_dependencies(SocketPlugin ${SocketPlugin_dependencies})
ENDIF (SocketPlugin_dependencies)
