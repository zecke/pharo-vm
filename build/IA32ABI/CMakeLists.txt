message("Adding internal plugin: IA32ABI")
set(pluginName "IA32ABI")
set(pluginSrc "${srcPluginsDir}/IA32ABI")
set(pluginCross "${crossDir}/plugins/IA32ABI")
set(pluginPlatform "${targetPlatform}/plugins/IA32ABI")
set(LINKLIBS )
add_definitions(-DSQUEAK_BUILTIN_PLUGIN)
list(APPEND sources  "${pluginSrc}/IA32ABI.c")
include_directories(${pluginSrc} ${pluginCross} ${targetPlatform}/plugins/${pluginName})
list(APPEND sources  "${pluginCross}/ia32abicc.c")
add_library(IA32ABI STATIC ${sources})
set(linkFlags "${linkFlags} -m32")
set_property(TARGET IA32ABI PROPERTY LINK_FLAGS "${linkFlags}")
IF (IA32ABI_dependencies)
add_dependencies(IA32ABI ${IA32ABI_dependencies})
ENDIF (IA32ABI_dependencies)
