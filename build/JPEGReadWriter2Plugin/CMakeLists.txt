message("Adding external plugin: JPEGReadWriter2Plugin")
set(pluginName "JPEGReadWriter2Plugin")
set(pluginSrc "${srcPluginsDir}/JPEGReadWriter2Plugin")
set(pluginCross "${crossDir}/plugins/JPEGReadWriter2Plugin")
set(pluginPlatform "${targetPlatform}/plugins/JPEGReadWriter2Plugin")
set(LINKLIBS )
list(APPEND sources  "${pluginSrc}/JPEGReadWriter2Plugin.c")
include_directories(${pluginSrc} ${pluginCross} ${targetPlatform}/plugins/${pluginName})
list(APPEND sources  "${pluginCross}/Error.c" "${pluginCross}/jcapimin.c" "${pluginCross}/jcapistd.c" "${pluginCross}/jccoefct.c" "${pluginCross}/jccolor.c" "${pluginCross}/jcdctmgr.c" "${pluginCross}/jchuff.c" "${pluginCross}/jcinit.c" "${pluginCross}/jcmainct.c" "${pluginCross}/jcmarker.c" "${pluginCross}/jcmaster.c" "${pluginCross}/jcomapi.c" "${pluginCross}/jcparam.c" "${pluginCross}/jcphuff.c" "${pluginCross}/jcprepct.c" "${pluginCross}/jcsample.c" "${pluginCross}/jctrans.c" "${pluginCross}/jdapimin.c" "${pluginCross}/jdapistd.c" "${pluginCross}/jdatadst.c" "${pluginCross}/jdatasrc.c" "${pluginCross}/jdcoefct.c" "${pluginCross}/jdcolor.c" "${pluginCross}/jddctmgr.c" "${pluginCross}/jdhuff.c" "${pluginCross}/jdinput.c" "${pluginCross}/jdmainct.c" "${pluginCross}/jdmarker.c" "${pluginCross}/jdmaster.c" "${pluginCross}/jdmerge.c" "${pluginCross}/jdphuff.c" "${pluginCross}/jdpostct.c" "${pluginCross}/jdsample.c" "${pluginCross}/jdtrans.c" "${pluginCross}/jerror.c" "${pluginCross}/jfdctflt.c" "${pluginCross}/jfdctfst.c" "${pluginCross}/jfdctint.c" "${pluginCross}/jidctflt.c" "${pluginCross}/jidctfst.c" "${pluginCross}/jidctint.c" "${pluginCross}/jidctred.c" "${pluginCross}/jmemdatadst.c" "${pluginCross}/jmemdatasrc.c" "${pluginCross}/jmemmgr.c" "${pluginCross}/jmemnobs.c" "${pluginCross}/jquant1.c" "${pluginCross}/jquant2.c" "${pluginCross}/jutils.c")
add_library(JPEGReadWriter2Plugin SHARED ${sources})
set(LIBRARY_OUTPUT_PATH ${outputDir})
set(linkFlags "${linkFlags} -m32")
target_link_libraries(JPEGReadWriter2Plugin ${LINKLIBS})
set_property(TARGET JPEGReadWriter2Plugin PROPERTY LINK_FLAGS "${linkFlags}")
IF (JPEGReadWriter2Plugin_dependencies)
add_dependencies(JPEGReadWriter2Plugin ${JPEGReadWriter2Plugin_dependencies})
ENDIF (JPEGReadWriter2Plugin_dependencies)
