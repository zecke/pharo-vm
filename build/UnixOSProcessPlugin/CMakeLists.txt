message("Adding internal plugin: UnixOSProcessPlugin")
set(pluginName "UnixOSProcessPlugin")
set(pluginSrc "${srcPluginsDir}/UnixOSProcessPlugin")
set(pluginCross "${crossDir}/plugins/UnixOSProcessPlugin")
set(pluginPlatform "${targetPlatform}/plugins/UnixOSProcessPlugin")
set(LINKLIBS )
add_definitions(-DSQUEAK_BUILTIN_PLUGIN)
list(APPEND sources  "${pluginSrc}/UnixOSProcessPlugin.c")
include_directories(${pluginSrc} ${pluginCross} ${targetPlatform}/plugins/${pluginName})
include_directories(${crossDir}/plugins/FilePlugin)
include_directories(${crossDir}/plugins/SocketPlugin)
add_definitions(-DSQAIO_H=\"sqaio.h\")
add_library(UnixOSProcessPlugin STATIC ${sources})
set(linkFlags "${linkFlags} -m32")
set_property(TARGET UnixOSProcessPlugin PROPERTY LINK_FLAGS "${linkFlags}")
IF (UnixOSProcessPlugin_dependencies)
add_dependencies(UnixOSProcessPlugin ${UnixOSProcessPlugin_dependencies})
ENDIF (UnixOSProcessPlugin_dependencies)
